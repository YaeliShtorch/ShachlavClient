

<section id="NewOrder">
  <mat-card>
    <mat-card-title >הזמנה חדשה</mat-card-title>
<mat-card-content>
    <form [formGroup]="newOrderForm" (ngSubmit)="onSubmit()" autocomplete="off">
       
          <mat-form-field>
            <input
              matInput 
               id="SiteAdress" 
                name="SiteAdress"  
                formControlName="SiteAdress"
                >
                <label>כתובת אתר</label>
         <mat-hint ></mat-hint>
     </mat-form-field>

     <mat-form-field >
            <input 
            matInput
             [matDatepicker]="picker" 
             id="OrderDueDate"
               name="orderDueDate"
               [matDatepickerFilter]="dateFilter"
               formControlName="OrderDueDate">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker  #picker></mat-datepicker>
            <label>הזמנה לתאריך</label>
            <!-- <mat-error *ngIf="newOrderForm.get('OrderDueDate').hasError('checkDate')" >על התאריך להיות גדול מהיום</mat-error>  -->
          </mat-form-field>

          <!-- [min]="minDate" -->


             <mat-form-field>
              <input
                  matInput
                  aria-label="default time"
                  [ngxTimepicker]="defaultValue"
                  (timeSet)="setTime($event)"
                  [ngxMaterialTimepickerTheme]
                  aria-label="12hr format"
                  min="06:00 am"
                  [value]="'0:00 am'"
                  id="StartTime" 
                  name="StartTime"  
                  formControlName="StartTime"
               />

               <ngx-material-timepicker-toggle [for]="defaultValue"></ngx-material-timepicker-toggle>
               <ngx-material-timepicker #defaultValue>
               </ngx-material-timepicker>
               <label>זמן התחלה</label>
          </mat-form-field> 

          <mat-form-field>   
           
              <input
              matInput
              (timeSet)="setTime2($event)"
              aria-label="default time"
              aria-label="12hr format"
              max="10:00 pm"
              [ngxTimepicker]="defaultValue1"
              [value]="'0:00 am'"
              id="EndTime" 
              name="EndTime"  
              formControlName="EndTime"
           />
           <ngx-material-timepicker-toggle [for]="defaultValue1"></ngx-material-timepicker-toggle>
           <ngx-material-timepicker #defaultValue1>
             </ngx-material-timepicker>
      <label>זמן סיום</label>
     <!-- <mat-error *ngIf="newOrderForm.get('OrderDueDate').hasError('checkhour')" >על השעה להיות גדולה משעת התחלה</mat-error> -->
        </mat-form-field>


             <!-- <material-timepicker
             color="primary"
              label="שעת סיום"
               appearance="standard"
                [userTime]="exportTime" 
                (change)="onChangeHour($event)" 
                revertLabel="Remove"
                 submitLabel="Ok">            
                 <input
                 matInput 
                  id="EndTime" 
                   name="EndTime"  
                   formControlName="EndTime"
                   >
            <mat-hint ></mat-hint>
                </material-timepicker> -->
      

        <mat-checkbox
           id="ConcreteTest" 
            name="ConcreteTest"  
            formControlName="ConcreteTest"
            (change)="checkboxVal($event)"
            >האם נדרשת בדיקת בטון
          </mat-checkbox>
      
      <br>

  <div *ngFor="let counter of OrderDetail, let i=index">
   <app-order-details  [material]="counter" (newItemEvent)="addItem($event,i)" #mat></app-order-details>  
   <!-- <div class="example-button-container"> -->
  <button  type="button" mat-mini-fab color="primary" aria-label="Example icon button with an add icon" (click)="AddMaterial()"> 
    <mat-icon>add_circle</mat-icon>
  </button>

  <button  type="button" mat-mini-fab color="primary" aria-label="Example icon button with a remove icon" (click)="RemoveMaterial(counter)">
    <mat-icon>remove_circle</mat-icon>
  </button>
</div>

<mat-form-field>
  <input
    matInput 
     id="Comment" 
     placeholder="הערות "
      name="comment"  
      formControlName="Comment"
      >
<mat-hint ></mat-hint>
</mat-form-field>
        <button mat-raised-button type="submit" id="Ok" value="אישור">אישור</button>
   
  
</form>
  </mat-card-content>
</mat-card>
</section>
